# WooCommerce 商品批量生成工具

這是一個使用 Go 語言開發的高效能 WooCommerce 商品批量生成工具，設計用於在短時間內生成大量測試商品數據。

## 特點

- **高效能**：使用 Go 語言的併發特性，能夠在短時間內生成數千個商品
- **多進程**：自動使用多個 CPU 核心進行並行處理
- **完整資料**：生成包含完整商品資訊的數據，包括價格、庫存、分類等
- **可配置**：通過環境變數或配置文件輕鬆調整生成參數

## 安裝依賴

在運行前，需要先安裝 MySQL 驅動：

```bash
go get github.com/go-sql-driver/mysql
```

## 配置

編輯 `.env` 文件（或複製 `database_config.env` 為 `.env`）設定資料庫連接和生成參數：

```
DB_HOST=localhost     # 資料庫主機
DB_PORT=3306          # 資料庫端口
DB_USER=root          # 資料庫用戶名
DB_PASSWORD=root      # 資料庫密碼
DB_NAME=wordpress     # 資料庫名稱
TABLE_PREFIX=wp_      # 資料表前綴
NUM_PRODUCTS=1000     # 要生成的商品數量
NUM_WORKERS=8         # 工作進程數量
```

## 編譯與運行

```bash
# 編譯
go build -o generate_products

# 運行
./generate_products
```

## 原始 PHP 版本與 Go 版本的比較

| 特性 | PHP 版本 | Go 版本 |
|------|---------|--------|
| 執行速度 | 較慢 | 快 5-10 倍 |
| 內存使用 | 較高 | 更有效率 |
| 併發能力 | 無/有限 | 強大 |
| 依賴庫 | 需要完整 WordPress | 僅需 MySQL 驅動 |
| 安裝複雜度 | 需要完整 WordPress 環境 | 獨立執行，不需要 PHP |

## 針對大量數據的優化建議

1. 增加資料庫連接數上限
2. 調整資料庫緩衝區大小
3. 在生成後重新優化資料表
4. 根據系統可用資源調整 `NUM_WORKERS` 參數

## 注意事項

- 本工具僅用於測試目的，生成的數據不應用於生產環境
- 大量數據生成可能會導致資料庫負載較高，請確保系統資源充足
- 在較大的數據集上運行前，建議先進行小規模測試

## 常見問題

**Q: 為什麼選擇 Go 而不是 PHP?**

A: Go 的併發機制能夠更有效地利用多核心處理器，大大加快數據生成速度，同時減少內存消耗。

**Q: 需要安裝 Go 嗎?**

A: 是的，需要安裝 Go 才能編譯和運行。如果只想使用編譯好的二進制文件，可以尋找預編譯版本。

**Q: 資料庫連接報錯怎麼辦?**

A: 檢查 `.env` 文件中的數據庫配置是否正確，確保 MySQL 服務正在運行，並且用戶具有足夠的權限。 